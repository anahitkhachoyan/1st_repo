import time
import pwm_dac
import signal_generator

amplitude = 1.2
frequency = 10.0
sampling_rate = 1000.0

if name == "__main__":
    try:
        dac = pwm_dac.PwmDac()
        t = 0.0
        
        while True:
            voltage = amplitude * signal_generator.get_sin_wave_amplitude(frequency, t)
            dac.set_voltage(voltage)
            time.sleep(1 / sampling_rate)
            t += 1 / sampling_rate
            
    except KeyboardInterrupt:
        print("Остановлено")
    finally:
        dac.deinit()
